<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CentOS 5.x 安装Python3和yum源配置 - F0rmat&#39;Blog</title>
<link rel="stylesheet" type="text/css" href="/css/main.css">
</head>
<body>
<header>
  <div>
    <h1><a href="https://getshe11.com/">F0rmat&#39;Blog</a></h1>
  </div>
  <nav></nav>
</header>
<main>
  <article>
    <div class="title">
  <h1>CentOS 5.x 安装Python3和yum源配置</h1>
  </div>
<div style="position: fixed; right:-30px; max-width:300px; overflow:auto; top: 1px; width: 300px; bottom:100px">

</div>
<div class="meta">
  <div>2018-05-07 16:15</div>
  <div>
    <span><a href="https://getshe11.com/tags/centos/">#CentOS</a></span>
      </div>
  </div>
<div class="content">
  <h1 id="0x01-前言">0x01 前言</h1>
<p>技能大赛的题目里面用的是CentOS的系统，本来觉得没什么，居然要装上Python3的版本，尝试了各种办法去下载python.
中间用了<code>curl</code> 和 <code>wget</code>的下载方式，提示，说不能建立SSL，办法就是更新<code>wget</code>这个工具，我想我还是自己下载吧。
<img src="https://pic-1252849007.cos.ap-guangzhou.myqcloud.com/centos5/1.png" alt="">
然而浏览器也是</p>
<!-- raw HTML omitted -->
<p><img src="https://pic-1252849007.cos.ap-guangzhou.myqcloud.com/centos5/2.png" alt=""></p>
<h1 id="0x02-源代码安装python3">0x02 源代码安装Python3</h1>
<h2 id="下载python3软件包">下载Python3软件包</h2>
<p>老系统就安装那么新的版本了，就选择了一个3.5的，在实体机下载的，因为浏览器也不支持ssl，只能在实体机下载了软件包然后拉到虚拟机里面。
下载地址：https://www.python.org/downloads/release/python-355/
把文件放到用户的主目录，然后切换到root。
<img src="https://pic-1252849007.cos.ap-guangzhou.myqcloud.com/centos5/3.png" alt=""></p>
<h2 id="安装python3">安装Python3</h2>
<p>先解压</p>
<pre><code>tar zxvf Python-3.5.4.tgz
</code></pre><p><img src="https://pic-1252849007.cos.ap-guangzhou.myqcloud.com/centos5/4.png" alt="">
然后进入</p>
<pre><code>cd Python-3.5.4
</code></pre><p>编译安装</p>
<pre><code>./configure prefix=/usr/local/python3
</code></pre><pre><code>make &amp;&amp; make install
</code></pre><p>这里需要等一段时间，安装好之后，因为CentOS原本就自带了Python2的版本，所以我们可以软链到/usr/bin的目录下，并改名为python3。</p>
<pre><code>ln -s /usr/local/python3/bin/python3 /usr/bin/python3
</code></pre><p>安装完成后
<img src="https://pic-1252849007.cos.ap-guangzhou.myqcloud.com/centos5/5.png" alt=""></p>
<h1 id="0x03-配置yum源">0x03 配置yum源</h1>
<p>但是很多库文件要下载，pip也要安装，网上都是用yum安装pip的，所以只得更新下yum源了。
我开始是去百度找的，但是那些都过期了，就去官网找。
<a href="http://mirror.centos.org/centos/5.5/readme">http://mirror.centos.org/centos/5.5/readme</a>
里面只有一个readme,内容是</p>
<blockquote>
<p>This directory (and version of CentOS) is deprecated.  For normal users,
you should use /5/ and not /5.5/ in your path. Please see this FAQ
concerning the CentOS release scheme:
<a href="https://wiki.centos.org/FAQ/General">https://wiki.centos.org/FAQ/General</a>
If you know what you are doing, and absolutely want to remain at the 5.5
level, go to <a href="http://vault.centos.org/">http://vault.centos.org/</a> for packages. Please keep in mind that 5.5 no longer gets any updates</p>
</blockquote>
<p>然后我又去找5版本的目录http://mirror.centos.org/centos/5/readme</p>
<blockquote>
<p>This directory (and version of CentOS) is depreciated.<br>
CentOS-5 is now past EOL
You can get the last released version of centos 5.11 here:
<a href="http://vault.centos.org/5.11/">http://vault.centos.org/5.11/</a>
Please NOTE:  this is not being maintained for security since moving to Vault.
It will have security issues, you should upgrade to a new version instead.</p>
</blockquote>
<p>说已经弃用了，叫我去这里找http://vault.centos.org/5.11/
<img src="https://pic-1252849007.cos.ap-guangzhou.myqcloud.com/centos5/6.png" alt=""></p>
<p>记得修改钱备份你的文件</p>
<pre><code>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak
</code></pre><p>然后</p>
<pre><code>vi /etc/yum.repos.d/CentOS-Base.repo
</code></pre><p>输入一下内容</p>
<pre><code># CentOS-Base.repo
#
# The mirror system uses the connecting IP address of the client and the
# update status of each mirror to pick mirrors that are updated to and
# geographically close to the client.  You should use this for CentOS updates
# unless you are manually picking other mirrors.
#
# If the mirrorlist= does not work for you, as a fall back you can try the 
# remarked out baseurl= line instead.
#
#
[base]  
name=CentOS-$releasever - Base  
#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os  
#baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/  
baseurl=http://vault.centos.org/5.11/os/$basearch/  
gpgcheck=1  
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-5  


#released updates   
[updates]  
name=CentOS-$releasever - Updates  
#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=updates  
#baseurl=http://mirror.centos.org/centos/$releasever/updates/$basearch/  
baseurl=http://vault.centos.org/5.11/updates/$basearch/  
gpgcheck=1  
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-5  


#additional packages that may be useful  
[extras]  
name=CentOS-$releasever - Extras  
#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras  
#baseurl=http://mirror.centos.org/centos/$releasever/extras/$basearch/  
baseurl=http://vault.centos.org/5.11/extras/$basearch/  
gpgcheck=1  
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-5  




#additional packages that extend functionality of existing packages  
[centosplus]  
name=CentOS-$releasever - Plus  
#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=centosplus  
#baseurl=http://mirror.centos.org/centos/$releasever/centosplus/$basearch/  
baseurl=http://vault.centos.org/5.11/centosplus/$basearch/  
gpgcheck=1  
enabled=0  
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-5  




#contrib - packages by Centos Users  
[contrib]  
name=CentOS-$releasever - Contrib  
#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=contrib  
#baseurl=http://mirror.centos.org/centos/$releasever/contrib/$basearch/  
baseurl=http://vault.centos.org/5.11/contrib/$basearch/  
gpgcheck=1  
enabled=0  
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-5&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt; 
</code></pre><p>最后执行</p>
<pre><code>yum makecache
</code></pre><pre><code>yum update
</code></pre><p>等待更新就行了</p>
<h1 id="0x04-结束">0x04 结束</h1>
<p>又鼓捣了一个下午，每周一洞的文章还没写，现在比赛时间太紧了。</p>
<h1 id="0x05-参考">0x05 参考</h1>
<p><a href="https://blog.csdn.net/qq_36357820/article/details/77732656">https://blog.csdn.net/qq_36357820/article/details/77732656</a></p>
</div>
<div style="position: fixed; right:50px; max-width:255px; overflow:auto; top: 120px; width: 220px; bottom:90px">










<div class="toc">

    <div class="page-header"><strong>目录</strong></div>

    <div id="page-scrollspy" class="toc-nav">

        
        
            
                
                
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#0x01-%e5%89%8d%e8%a8%80">
                            0x01 前言
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#0x02-%e6%ba%90%e4%bb%a3%e7%a0%81%e5%ae%89%e8%a3%85python3">
                            0x02 源代码安装Python3
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e4%b8%8b%e8%bd%bdpython3%e8%bd%af%e4%bb%b6%e5%8c%85">
                            下载Python3软件包
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e5%ae%89%e8%a3%85python3">
                            安装Python3
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#0x03-%e9%85%8d%e7%bd%aeyum%e6%ba%90">
                            0x03 配置yum源
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#0x04-%e7%bb%93%e6%9d%9f">
                            0x04 结束
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#0x05-%e5%8f%82%e8%80%83">
                            0x05 参考
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                
            
        

    </div>

</div>



</div>

  </article>
</main>
<footer>
  <div>
    <div>&copy; 2021 F0rmat. <a href="https://creativecommons.org/licenses/by/4.0/deed.zh">CC-BY-4.0</a></div>
  </div>
</footer>
</body>
</html>
